const giveaway = new discord.command.CommandGroup({
  defaultPrefix: '$'
});

giveaway.registerCommand(
  'give',
  (args) => ({
    Long: args.integerOptional(),
    Title: args.textOptional()
  }),
  async ({ message }, { Long, Title }) => {
    const richEmbed = new discord.Embed();
    //Match channel id to your channel id!//
    const chan = (await discord.getChannel(
      '706324089752518699'
    )) as discord.GuildTextChannel;
    richEmbed.setTitle(Title).setColor(0x0000ff);
    richEmbed.setDescription(
      [
        `The giveaway ends in ${Long} minutes!`,
        `React below for a chance to enter!`
      ].join('\n')
    );

    await chan
      .sendMessage({ content: '', embed: richEmbed })
      .then((message) => {
        message.addReaction('âœ…');
      });
  }
);

discord.registerEventHandler('MESSAGE_REACTION_ADD', async (event) => {
  const guild = await discord.getGuild(event.guildId!);
  const member = await guild.getMember(event.userId);
  const embed = new discord.Embed();
      //Match channel id to your channel id!//
  const channel = (await discord.getTextChannel(
    '710326153184936008'
  )) as discord.GuildTextChannel;
  embed.setTitle(`${member.user.getTag()} has entered the competition!`);
  await channel.sendMessage(embed);
});

